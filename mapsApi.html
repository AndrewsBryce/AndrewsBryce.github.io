<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
          <title>Google Map</title>
  <meta name="author" content="Bryce Andrews">

  <script async defer src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyD2BHUa4D-RwUunSBh2yC5Z_-P1jmuiLJQ"
  type="text/javascript"></script>
  <script>
//  function myMap(){
    var mapOptions = {
      center: new google.maps.LatLng(53.694712,-6.475492),
      zoom: 7,
    /  panControl: true,
      zoomControl: true,
      mapTypeControl: true,
      scaleControl: true,
      streetViewControl: true,
      overviewMapControl: true,
      rotateControl: true
    };
    var map = new google.maps.Map(document.getElementById('Mapit'), mapOptions);
    var acOptions = {
      types: ['establishments']
    };
    var searchBox = new google.maps.places.searchBox(document.getElementById('mapsearch'));
    searchBox.bindTo('bounds', map);

    var markerOptions = {
      position: new google.maps.LatLng(53.694712,-6.475492),
      map:map,
      draggable: true
    };
    var marker = new google.maps.Marker(markerOptions);
    marker.setMap(map);

    var infoWindowOptions = {
      content: 'Newgrange is here!'
    };

    var infoWindow = new google.maps.InfoWindow(infoWindowOptions);
    google.maps.event.addListener(marker, 'click', function(e){
      infoWindow.open(map, marker);
    });

    google.maps.event.addListener(searchBox, 'places_changed', function(){
      infoWindow.close();
      var place = searchBox.getPlace();
      if(place.geometry.viewport){
        map.fitBounds(place.geometry.viewport);
      } else {
        map.setCenter(place.geometry.location);
        map.setZoom(7);
      }
      marker.setPosition(place.geometry.location);
      infoWindow.setContent('<div><strong>' + place.name + '</strong></div><br>');
      infoWindow.open(map, marker);
      google.maps.event.addListener(marker,'click',function(e){
        infoWindow.open(map, marker);
      });
    });
//  }

  /*  var searchBox = new google.maps.places.searchBox(document.getElementById('mapsearch'));

    //place change event on searchBox
    google.maps.event.addListener(searchBox, 'places_changed', function(){
      //console.log(searchBox.getPlaces());
      var places = searchBox.getPlaces();

      //bound
      var bounds = new google.maps.LatLngBounds();
      var i, place;

      for(i=0; place=places[i];i++){
        //console.log(place.geometry.location);

        bounds.extend(place.geometry.location);
        marker.setPosition(place.geometry.location); //set marker postion new...
      }
      map.fitBounds(bounds); //fit to the bounds
      map.setZoom(7); //set zoom
    });*/
  </script>


<style>
#Mapit {
  width: 50%;
  height: 400px;
  border: 15px solid coral;
 -webkit-animation: mymove 5s infinite; /* Safari 4.0 - 8.0 */
 animation: mymove 5s infinite;
}
/* Safari 4.0 - 8.0 */
@-webkit-keyframes mymove {
    50% {border-color: lightblue;}
}

@keyframes mymove {
    50% {border-color: lightblue;}
}
}
</style>
</head>

<body>
<script src="https://maps.googleapis.com/map/api/js?sensor=false"></script>
<h1>Google Map: For your enjoyment.</h1>
<input type="text" id="mapsearch">
<div id="Mapit"></div>
<br>
<br>

<button type="button" onclick="window.location.href='index.html'">Index</button>
</body>
</html>
